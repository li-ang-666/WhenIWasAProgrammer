# sourceType: Kafka or Repair
flinkConfig:
  sourceType: Repair
  sourceParallel: 1
  otherParallel: 10

# scanMode: Direct or TumblingWindow
repairTasks:
  #  - taskId: "111"
  #    sourceName: "116prism"
  #    tableName: "report_equity_change_info"
  #    columns: "*"
  #    where: "annualreport_id in (select id from annual_report where company_id in (select company_id from company_graph where graph_id = '2318455639' and deleted = 0))"
  #    scanMode: Direct
  #  - taskId: "222"
  #    sourceName: "116prism"
  #    tableName: "report_shareholder"
  #    columns: "*"
  #    where: "annual_report_id in (select id from annual_report where company_id in (select company_id from company_graph where graph_id = '2318455639' and deleted = 0))"
  #    scanMode: Direct
  #  - taskId: "333"
  #    sourceName: "116prism"
  #    tableName: "report_outbound_investment"
  #    columns: "*"
  #    where: "annual_report_id in (select id from annual_report where company_id in (select company_id from company_graph where graph_id = '2318455639' and deleted = 0));"
  #    scanMode: Direct
  #  - taskId: "444"
  #    sourceName: "116prism"
  #    tableName: "report_webinfo"
  #    columns: "*"
  #    where: "annualreport_id in (select id from annual_report where company_id in (select company_id from company_graph where graph_id = '2318455639' and deleted = 0))"
  #    scanMode: Direct
  - taskId: "555"
    sourceName: "464prism"
    tableName: "enterprise"
    columns: "*"
    where: "graph_id = 2318455639"
    scanMode: Direct

kafkaConfigs:
  kafkaSource:
    bootstrapServers: "10.99.202.90:9092,10.99.206.80:9092,10.99.199.2:9092"
    topics:
      - "0bb01.proto.prism.report_equity_change_info"
      - "0bb01.proto.prism.report_shareholder"
      - "0bb01.proto.prism.report_outbound_investment"
      - "0bb01.json.prism.report_webinfo"
      #- "56736.json.prism.enterprise"
    groupId: "annual-report-job"
    startFrom: "1"